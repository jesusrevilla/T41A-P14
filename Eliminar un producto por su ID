CREATE OR REPLACE PROCEDURE eliminar_producto(
    IN p_id INT
)
LANGUAGE plpgsql
AS $$
DECLARE
    filas_afectadas INT;
BEGIN
    DELETE FROM productos WHERE id = p_id;
    GET DIAGNOSTICS filas_afectadas = ROW_COUNT;

    IF filas_afectadas > 0 THEN
        RAISE NOTICE '✅ Producto con ID % eliminado exitosamente.', p_id;
    ELSE
        RAISE NOTICE '⚠️ No se encontró producto con ID %.', p_id;
    END IF;
END;
$$;

